{"version":3,"file":"static/js/509.78921b6a.chunk.js","mappings":"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","sources":["types/Sex.ts","utils/centuries.tsx","utils/searchHelper.ts","types/SortType.tsx","components/SearchLink.tsx","components/PeopleFilters.tsx","components/PersonInfo.tsx","components/PeopleTable.tsx","utils/filterPeople.tsx","components/PeoplePage.tsx"],"sourcesContent":["export enum Sex{\n  ALL = 'All',\n  MALE = 'Male',\n  FEMALE = 'Female',\n}\n","export const Centuries = ['16', '17', '18', '19', '20'];\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\n/**\n * This function prepares a correct search string\n * from a given currentParams and paramsToUpdate.\n */\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams, // it's our custom type\n): string {\n  // copy currentParams by creating new object from a string\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  // Here is the example of paramsToUpdate\n  // {\n  //   sex: 'm',                ['sex', 'm']\n  //   order: null,             ['order', null]\n  //   centuries: ['16', '19'], ['centuries', ['16', '19']]\n  // }\n  //\n  // - params with the `null` value are deleted;\n  // - string value is set to given param key;\n  // - array of strings adds several params with the same key;\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        // we delete the key to remove old values\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  // we return a string to use it inside links\n  return newParams.toString();\n}\n","export enum SortType {\n  NAME = 'name',\n  SEX = 'sex',\n  BORN = 'born',\n  DIED = 'died',\n}\n","import { Link, LinkProps, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, SearchParams } from '../utils/searchHelper';\n\n/**\n * To replace the the standard `Link` we take all it props except for `to`\n * along with the custom `params` prop that we use for updating the search\n */\ntype Props = Omit<LinkProps, 'to'> & {\n  params: SearchParams,\n};\n\n/**\n * SearchLink updates the given `params` in the search keeping the `pathname`\n * and the other existing search params (see `getSearchWith`)\n */\nexport const SearchLink: React.FC<Props> = ({\n  children, // this is the content between the open and closing tags\n  params, // the params to be updated in the `search`\n  ...props // all usual Link props like `className`, `style` and `id`\n}) => {\n  const [searchParams] = useSearchParams();\n\n  return (\n    <Link\n      // to={{ search: getSearchWith(searchParams, { query: 'sdf' }) }}\n      // to={{ search: getSearchWith(searchParams, { query: null }) }}\n      // to={{ search: getSearchWith(searchParams, { centuries: ['16', '18'] }) }}\n      to={{\n        search: getSearchWith(searchParams, params),\n      }}\n      {...props} // copy all the other props\n    >\n      {children}\n    </Link>\n  );\n};\n","import { URLSearchParamsInit } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Centuries } from '../utils/centuries';\nimport { Sex } from '../types/Sex';\nimport { SearchLink } from './SearchLink';\nimport { getSearchWith } from '../utils/searchHelper';\n\ntype Props = {\n  searchParams: URLSearchParams;\n  setSearchParams: (newParams: URLSearchParamsInit,\n    navigateOptions?: {\n      replace?: boolean;\n      state?: unknown;\n    } | undefined) => void;\n  query: string;\n  sex: string;\n  centuries: string[];\n};\n\nexport const PeopleFilters: React.FC<Props> = ({\n  searchParams,\n  setSearchParams,\n  query,\n  sex,\n  centuries,\n}) => {\n  const onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.value.trim()) {\n      return;\n    }\n\n    setSearchParams(\n      getSearchWith(searchParams, { query: e.target.value || null }),\n    );\n  };\n\n  return (\n    <nav className=\"panel\">\n      <p className=\"panel-heading\">Filters</p>\n      <p className=\"panel-tabs\" data-cy=\"SexFilter\">\n        <SearchLink\n          params={{ sex: null }}\n          className={classNames(\n            { 'is-active': !sex },\n          )}\n        >\n          {Sex.ALL}\n        </SearchLink>\n        <SearchLink\n          params={{ sex: 'm' }}\n          className={classNames(\n            { 'is-active': sex === 'm' },\n          )}\n        >\n          {Sex.MALE}\n        </SearchLink>\n        <SearchLink\n          params={{ sex: 'f' }}\n          className={classNames(\n            { 'is-active': sex === 'f' },\n          )}\n        >\n          {Sex.FEMALE}\n        </SearchLink>\n      </p>\n      <div className=\"panel-block\">\n        <p className=\"control has-icons-left\">\n          <input\n            data-cy=\"NameFilter\"\n            type=\"search\"\n            className=\"input\"\n            placeholder=\"Search\"\n            value={query || ''}\n            onChange={onInputChange}\n          />\n\n          <span className=\"icon is-left\">\n            <i className=\"fas fa-search\" aria-hidden=\"true\" />\n          </span>\n        </p>\n      </div>\n      <div className=\"panel-block\">\n        <div className=\"level is-flex-grow-1 is-mobile\" data-cy=\"CenturyFilter\">\n          <div className=\"level-left\">\n            {Centuries.map(century => (\n              <SearchLink\n                key={century}\n                params={{\n                  centuries: centuries.includes(century.toString())\n                    ? centuries.filter(c => c !== century.toString())\n                    : [...centuries, century],\n                }}\n                data-cy=\"century\"\n                className={classNames('button', 'mr-1',\n                  { 'is-info': centuries.includes(century.toString()) })}\n              >\n                {century}\n              </SearchLink>\n            ))}\n            <div className=\"level-right ml-4\">\n              <SearchLink\n                params={{\n                  centuries: null,\n                }}\n                data-cy=\"centuryALL\"\n                className={classNames(\n                  'button',\n                  { 'is-success': !centuries.length },\n                  { 'is-outlined': centuries.length },\n                )}\n              >\n                All\n              </SearchLink>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"panel-block\">\n        <SearchLink\n          params={{\n            sex: null,\n            query: null,\n            centuries: null,\n          }}\n          className=\"button is-link is-outlined is-fullwidth\"\n        >\n          Reset all filters\n        </SearchLink>\n      </div>\n    </nav>\n  );\n};\n","import classNames from 'classnames';\nimport { Link, useLocation, useResolvedPath } from 'react-router-dom';\nimport { Person } from '../types';\n\ntype Props = {\n  person: Person,\n  slug:string\n};\n\nexport const PersonInfo: React.FC<Props> = ({ person, slug }) => {\n  const location = useLocation();\n  const parentPath = useResolvedPath('../').pathname;\n  const isSelectedPerson = (personSlug: string) => personSlug === slug;\n  const {\n    name,\n    sex,\n    born,\n    died,\n    motherName,\n    mother,\n    father,\n    fatherName,\n    slug: personSlug,\n  } = person;\n\n  const mom = motherName || '-';\n  const dad = fatherName || '-';\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={classNames({\n        'has-background-warning': isSelectedPerson(personSlug),\n      })}\n    >\n      <td>\n        <Link\n          to={{\n            pathname: isSelectedPerson(personSlug)\n              ? parentPath : parentPath + personSlug,\n            search: location.search,\n          }}\n          className={classNames({ 'has-text-danger': sex === 'f' })}\n        >\n          {name}\n        </Link>\n      </td>\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {mother ? (\n          <Link\n            to={{\n              pathname: isSelectedPerson(mother.slug)\n                ? parentPath : parentPath + mother.slug,\n              search: location.search,\n            }}\n            className=\"has-text-danger\"\n          >\n            {mother.name}\n          </Link>\n        ) : (\n          mom\n        )}\n      </td>\n      <td>\n        {father ? (\n          <Link\n            to={{\n              pathname: isSelectedPerson(father.slug)\n                ? parentPath : parentPath + father.slug,\n              search: location.search,\n            }}\n          >\n            {father.name}\n          </Link>\n        ) : (\n          dad\n        )}\n      </td>\n    </tr>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { Person } from '../types';\nimport { PersonInfo } from './PersonInfo';\nimport { SearchLink } from './SearchLink';\nimport { SortType } from '../types/SortType';\n\ntype Props = {\n  people: Person[],\n  slug: string,\n};\n\nexport const PeopleTable: React.FC<Props> = ({ people, slug }) => {\n  const [searchParams] = useSearchParams();\n  const order = searchParams.get('order') || null;\n  const sort = searchParams.get('sort') || null;\n\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Name\n              <SearchLink params={{\n                sort: sort === SortType.NAME && order ? null : SortType.NAME,\n                order: sort === SortType.NAME && !order ? 'desc' : null,\n              }}\n              >\n                <span className=\"icon\">\n                  <i className=\"fas fa-sort\" />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Sex\n              <SearchLink params={{\n                sort: sort === SortType.SEX && order ? null : SortType.SEX,\n                order: sort === SortType.SEX && !order ? 'desc' : null,\n              }}\n              >\n                <span className=\"icon\">\n                  <i className=\"fas fa-sort\" />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Born\n              <SearchLink params={{\n                sort: sort === SortType.BORN && order ? null : SortType.BORN,\n                order: sort === SortType.BORN && !order ? 'desc' : null,\n              }}\n              >\n                <span className=\"icon\">\n                  <i className=\"fas fa-sort-up\" />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Died\n              <SearchLink params={{\n                sort: sort === SortType.DIED && order ? null : SortType.DIED,\n                order: sort === SortType.DIED && !order ? 'desc' : null,\n              }}\n              >\n                <span className=\"icon\">\n                  <i className=\"fas fa-sort\" />\n                </span>\n              </SearchLink>\n            </span>\n          </th>\n\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n      <tbody>\n        {people.map(person => (\n          <PersonInfo\n            person={person}\n            key={person.slug}\n            slug={slug}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { Person } from '../types';\nimport { SortType } from '../types/SortType';\n\nconst normalizer = (text: string) => text.toLowerCase();\n\nexport const filterPeople = (searchQuery: string,\n  sex: string,\n  century: string[],\n  sort: string,\n  order:string,\n  people: Person[]) => {\n  const query = normalizer(searchQuery).trim();\n  let peopleToFilter = [...people];\n\n  if (query) {\n    peopleToFilter = peopleToFilter.filter(\n      person => normalizer(person.name).includes(query)\n        || (person.motherName && normalizer(person.motherName).includes(query))\n        || (person.fatherName && normalizer(\n          person.fatherName,\n        ).includes(query)),\n    );\n  }\n\n  if (century.length) {\n    peopleToFilter = peopleToFilter.filter(person => {\n      const personCentury = Math.ceil(person.born / 100).toString();\n\n      if (century.includes(personCentury)) {\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  if (sex) {\n    peopleToFilter = peopleToFilter.filter(person => person.sex === sex);\n  }\n\n  if (sort) {\n    peopleToFilter = peopleToFilter.sort((\n      personA, personB,\n    ) => {\n      switch (sort) {\n        case SortType.NAME:\n          return personA.name.localeCompare(personB.name);\n\n        case SortType.SEX:\n          return personA.sex.localeCompare(personB.sex);\n\n        case SortType.BORN:\n          return personA.born - personB.born;\n\n        case SortType.DIED:\n          return personA.died - personB.died;\n\n        default:\n          throw new Error('The sort type is not defined');\n      }\n    });\n  }\n\n  if (order) {\n    peopleToFilter.reverse();\n  }\n\n  return peopleToFilter;\n};\n","/* eslint-disable max-len */\nimport axios from 'axios';\nimport {\n  useEffect, useMemo, useRef, useState,\n} from 'react';\nimport { useParams, useSearchParams } from 'react-router-dom';\nimport { PeopleFilters } from './PeopleFilters';\nimport { Loader } from './Loader';\nimport { PeopleTable } from './PeopleTable';\nimport { Person } from '../types';\nimport { filterPeople } from '../utils/filterPeople';\n\nconst PeoplePage = () => {\n  const [peopleData, setPeopleData] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  const isMounted = useRef(false);\n\n  const [serachParams, setSearchParams] = useSearchParams();\n  const query = serachParams.get('query') || '';\n  const sex = serachParams.get('sex') || '';\n  const centuries = serachParams.getAll('centuries') || [];\n  const sort = serachParams.get('sort') || '';\n  const order = serachParams.get('order') || '';\n\n  const { slug = '' } = useParams();\n\n  const getPeopleFromServer = async () => {\n    const controller = new AbortController();\n\n    try {\n      setIsLoading(true);\n      setIsError(false);\n      const { data } = await axios.get<Person[]>('https://mate-academy.github.io/react_people-table/api/people.json', {\n        signal: controller.signal,\n      });\n\n      if (isMounted) {\n        if (data.length) {\n          const dataWithParents = data.map(person => {\n            return {\n              ...person,\n              mother: data.find(human => human.name === person.motherName),\n              father: data.find(human => human.name === person.fatherName),\n            };\n          });\n\n          setPeopleData(dataWithParents);\n        }\n      }\n    } catch {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    isMounted.current = true;\n    setTimeout(getPeopleFromServer, 500);\n\n    return () => {\n      setPeopleData([]);\n      isMounted.current = false;\n    };\n  }, []);\n\n  const visiblePersons = useMemo(() => {\n    return filterPeople(query,\n      sex, centuries, sort, order, peopleData);\n  }, [query, sex, centuries]);\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"columns is-desktop is-flex-direction-row-reverse\">\n          <div className=\"column is-7-tablet is-narrow-desktop\">\n            {peopleData.length > 0 && (\n              <PeopleFilters\n                searchParams={serachParams}\n                setSearchParams={setSearchParams}\n                query={query}\n                sex={sex}\n                centuries={centuries}\n              />\n            )}\n          </div>\n\n          <div className=\"column\">\n            <div className=\"box table-container\">\n              {isLoading && <Loader />}\n\n              {isError && !isLoading && (\n                <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n                  Something went wrong\n                </p>\n              )}\n\n              {!peopleData.length && !isLoading && !isError && (\n                <p data-cy=\"noPeopleMessage\">\n                  There are no people on the server\n                </p>\n              )}\n\n              {!isLoading && !visiblePersons.length && !isError && (\n                <p>There are no people matching the current search criteria</p>)}\n\n              {peopleData.length > 0 && <PeopleTable people={visiblePersons} slug={slug} />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PeoplePage;\n"],"names":["Sex","Centuries","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","SortType","SearchLink","children","params","props","useSearchParams","searchParams","to","search","PeopleFilters","setSearchParams","query","sex","centuries","className","classNames","ALL","MALE","FEMALE","type","placeholder","onChange","e","target","trim","map","century","includes","filter","c","length","PersonInfo","person","slug","location","useLocation","parentPath","useResolvedPath","pathname","isSelectedPerson","personSlug","name","born","died","motherName","mother","father","fatherName","mom","dad","PeopleTable","people","order","get","sort","NAME","SEX","BORN","DIED","normalizer","text","toLowerCase","useState","peopleData","setPeopleData","isLoading","setIsLoading","isError","setIsError","isMounted","useRef","serachParams","getAll","useParams","getPeopleFromServer","controller","AbortController","axios","signal","data","dataWithParents","find","human","useEffect","current","setTimeout","visiblePersons","useMemo","searchQuery","peopleToFilter","personCentury","Math","ceil","personA","personB","localeCompare","Error","reverse","filterPeople","Loader"],"sourceRoot":""}